"use strict";(self.webpackChunksong_review_app=self.webpackChunksong_review_app||[]).push([[877],{8877:(Pn,p,m)=>{m.r(p),m.d(p,{HomeAdminComponent:()=>Dn});var d=m(2200),l=m(4341),n=m(3664),c=m(2615),_=m(9330);function b(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u2705"),n.k0s())}function f(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u274c"),n.k0s())}function h(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u26a0\ufe0f"),n.k0s())}function C(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u2139\ufe0f"),n.k0s())}function v(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",58)(1,"div",59)(2,"span",60),n.qex(3,61),n.DNE(4,b,2,0,"span",62)(5,f,2,0,"span",62)(6,h,2,0,"span",62)(7,C,2,0,"span",63),n.bVm(),n.k0s(),n.j41(8,"span",64),n.EFF(9),n.k0s()(),n.j41(10,"button",65),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG();return c.Njj(a.cerrarNotificacion(t.id))}),n.EFF(11,"\xd7"),n.k0s()()}if(2&o){const e=s.$implicit;n.Y8G("ngClass","notificacion-"+e.tipo),n.R7$(3),n.Y8G("ngSwitch",e.tipo),n.R7$(),n.Y8G("ngSwitchCase","success"),n.R7$(),n.Y8G("ngSwitchCase","error"),n.R7$(),n.Y8G("ngSwitchCase","warning"),n.R7$(3),n.JRh(e.mensaje)}}function x(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u2705"),n.k0s())}function F(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u26a0\ufe0f"),n.k0s())}function A(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u{1f5d1}\ufe0f"),n.k0s())}function M(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"\u2753"),n.k0s())}function k(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Eliminar"),n.k0s())}function E(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Cambiar"),n.k0s())}function j(o,s){1&o&&(n.j41(0,"span"),n.EFF(1,"Aceptar"),n.k0s())}function y(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",66),n.bIt("click",function(){c.eBV(e);const t=n.XpG();return c.Njj(t.cerrarConfirmacion())}),n.j41(1,"div",67),n.bIt("click",function(t){return c.eBV(e),c.Njj(t.stopPropagation())}),n.j41(2,"div",68)(3,"h3"),n.EFF(4),n.k0s(),n.j41(5,"span",69),n.qex(6,61),n.DNE(7,x,2,0,"span",62)(8,F,2,0,"span",62)(9,A,2,0,"span",62)(10,M,2,0,"span",63),n.bVm(),n.k0s()(),n.j41(11,"div",70)(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",71)(15,"button",72),n.bIt("click",function(){c.eBV(e);const t=n.XpG();return c.Njj(t.cerrarConfirmacion())}),n.EFF(16,"Cancelar"),n.k0s(),n.j41(17,"button",73),n.bIt("click",function(){c.eBV(e);const t=n.XpG();return c.Njj(t.confirmarAccion())}),n.DNE(18,k,2,0,"span",74)(19,E,2,0,"span",74)(20,j,2,0,"span",74),n.k0s()()()()}if(2&o){const e=n.XpG();n.R7$(),n.Y8G("ngClass","modal-"+e.modalConfirmacion.tipo),n.R7$(3),n.JRh(e.modalConfirmacion.titulo),n.R7$(2),n.Y8G("ngSwitch",e.modalConfirmacion.tipo),n.R7$(),n.Y8G("ngSwitchCase","success"),n.R7$(),n.Y8G("ngSwitchCase","warning"),n.R7$(),n.Y8G("ngSwitchCase","danger"),n.R7$(4),n.JRh(e.modalConfirmacion.mensaje),n.R7$(4),n.Y8G("ngClass","btn-"+e.modalConfirmacion.tipo),n.R7$(),n.Y8G("ngIf","danger"===e.modalConfirmacion.tipo),n.R7$(),n.Y8G("ngIf","warning"===e.modalConfirmacion.tipo),n.R7$(),n.Y8G("ngIf","success"===e.modalConfirmacion.tipo)}}function D(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",77)(1,"label",78)(2,"input",79),n.bIt("change",function(t){const a=c.eBV(e).$implicit,r=n.XpG(2);return c.Njj(r.onArtistaAlbumChange(t,a.id))}),n.k0s(),n.nrm(3,"span",80),n.EFF(4),n.k0s()()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.R7$(2),n.Y8G("checked",i.nuevoAlbum.artista_ids.includes(e.id)),n.R7$(2),n.SpI(" ",e.nombre," ")}}function P(o,s){if(1&o&&(n.j41(0,"div",75),n.DNE(1,D,5,2,"div",76),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.artistasFiltradosAlbum)}}function O(o,s){if(1&o){const e=n.RV6();n.j41(0,"span",84),n.EFF(1),n.j41(2,"button",85),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(2);return c.Njj(a.removerArtistaAlbum(t))}),n.EFF(3,"\xd7"),n.k0s()()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.R7$(),n.SpI(" ",i.getNombreArtista(e)," ")}}function R(o,s){if(1&o&&(n.j41(0,"div",81)(1,"h5"),n.EFF(2,"Artistas seleccionados:"),n.k0s(),n.j41(3,"div",82),n.DNE(4,O,4,1,"span",83),n.k0s()()),2&o){const e=n.XpG();n.R7$(4),n.Y8G("ngForOf",e.nuevoAlbum.artista_ids)}}function I(o,s){if(1&o&&(n.j41(0,"div",91),n.EFF(1),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.SpI(" \u2139\ufe0f Mostrando los primeros 6 \xe1lbumes de ",e.albumes.length," totales. Usa el buscador para ver m\xe1s \xe1lbumes. ")}}function G(o,s){if(1&o&&(n.j41(0,"div",92),n.EFF(1),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.SpI(' No se encontraron \xe1lbumes con "',e.busquedaAlbumes,'" ')}}function H(o,s){if(1&o&&n.nrm(0,"img",102),2&o){const e=n.XpG().$implicit;n.Y8G("alt",n.mNQ(e.titulo))("src",e.imagen,n.B4B)}}function w(o,s){1&o&&(n.j41(0,"div",103),n.EFF(1,"\u{1f4bf}"),n.k0s())}function $(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit,i=n.XpG(3);n.R7$(),n.JRh(i.obtenerNombresArtistasAlbum(e))}}function T(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit;n.R7$(),n.SpI("\u{1f4c5} ",e.fecha_lanzamiento)}}function N(o,s){if(1&o&&(n.j41(0,"small")(1,"a",104),n.EFF(2,"\u{1f3b5} Spotify"),n.k0s()()),2&o){const e=n.XpG().$implicit;n.R7$(),n.Y8G("href",e.urlSpotify,n.B4B)}}function U(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",95)(1,"div",96),n.DNE(2,H,1,3,"img",97)(3,w,2,0,"div",98),n.j41(4,"div",99)(5,"h4"),n.EFF(6),n.k0s(),n.DNE(7,$,2,1,"p",74)(8,T,2,1,"p",74)(9,N,3,1,"small",74),n.k0s()(),n.j41(10,"div",100)(11,"button",101),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(3);return c.Njj(a.eliminarAlbum(t))}),n.j41(12,"span",24),n.EFF(13,"\u{1f5d1}\ufe0f"),n.k0s(),n.j41(14,"span",25),n.EFF(15,"Eliminar"),n.k0s()()()()}if(2&o){const e=s.$implicit,i=n.XpG(3);n.R7$(2),n.Y8G("ngIf",e.imagen),n.R7$(),n.Y8G("ngIf",!e.imagen),n.R7$(3),n.JRh(e.titulo),n.R7$(),n.Y8G("ngIf","Sin artistas"!==i.obtenerNombresArtistasAlbum(e)),n.R7$(),n.Y8G("ngIf",e.fecha_lanzamiento),n.R7$(),n.Y8G("ngIf",e.urlSpotify)}}function S(o,s){if(1&o&&(n.j41(0,"div",93),n.DNE(1,U,16,6,"div",94),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.Y8G("ngForOf",e.albumenesParaMostrar)}}function q(o,s){1&o&&(n.j41(0,"p"),n.EFF(1,"\u{1f4bf} No hay \xe1lbumes registrados"),n.k0s())}function z(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG(3);n.R7$(),n.SpI('\u{1f4bf} No se encontraron \xe1lbumes que coincidan con "',e.busquedaAlbumes,'"')}}function B(o,s){if(1&o&&(n.j41(0,"div",105),n.DNE(1,q,2,0,"p",74)(2,z,2,1,"p",74),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.Y8G("ngIf",!e.busquedaAlbumes.trim()),n.R7$(),n.Y8G("ngIf",e.busquedaAlbumes.trim())}}function Y(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",86)(1,"h3"),n.EFF(2,"\u{1f4bf} \xc1lbumes Existentes"),n.k0s(),n.DNE(3,I,2,1,"div",87),n.j41(4,"div",51)(5,"input",88),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG();return n.DH7(a.busquedaAlbumes,t)||(a.busquedaAlbumes=t),c.Njj(t)}),n.bIt("ngModelChange",function(){c.eBV(e);const t=n.XpG();return c.Njj(t.filtrarAlbumesAdmin())}),n.k0s(),n.DNE(6,G,2,1,"div",53),n.k0s(),n.DNE(7,S,2,1,"div",89)(8,B,3,2,"div",90),n.k0s()}if(2&o){const e=n.XpG();n.R7$(3),n.Y8G("ngIf",!e.busquedaAlbumes.trim()&&e.albumes.length>6),n.R7$(2),n.R50("ngModel",e.busquedaAlbumes),n.R7$(),n.Y8G("ngIf",e.busquedaAlbumes.trim()&&0===e.albumenesParaMostrar.length),n.R7$(),n.Y8G("ngIf",e.albumenesParaMostrar&&e.albumenesParaMostrar.length>0),n.R7$(),n.Y8G("ngIf",!e.albumenesParaMostrar||0===e.albumenesParaMostrar.length)}}function X(o,s){if(1&o&&(n.j41(0,"span",111),n.EFF(1),n.nI1(2,"date"),n.k0s()),2&o){const e=n.XpG().$implicit;n.R7$(),n.SpI("(",n.i5U(2,1,e.fecha_lanzamiento,"yyyy"),")")}}function V(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",108),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(2);return c.Njj(a.seleccionarAlbum(t.id))}),n.j41(1,"span",109),n.EFF(2),n.k0s(),n.DNE(3,X,3,4,"span",110),n.k0s()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.AVh("selected",i.esAlbumSeleccionado(e.id)),n.R7$(2),n.JRh(e.titulo),n.R7$(),n.Y8G("ngIf",e.fecha_lanzamiento)}}function L(o,s){if(1&o&&(n.j41(0,"div",106),n.DNE(1,V,4,4,"div",107),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.albumesFiltrados)}}function J(o,s){if(1&o&&(n.j41(0,"div",112)(1,"p"),n.EFF(2,"\xc1lbum seleccionado: "),n.j41(3,"strong"),n.EFF(4),n.k0s()()()),2&o){const e=n.XpG();n.R7$(4),n.JRh(e.getNombreAlbum(e.nuevaCancion.album_id))}}function K(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",77)(1,"label",78)(2,"input",79),n.bIt("change",function(t){const a=c.eBV(e).$implicit,r=n.XpG(2);return c.Njj(r.onArtistaCancionChange(t,a.id))}),n.k0s(),n.nrm(3,"span",80),n.EFF(4),n.k0s()()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.R7$(2),n.Y8G("checked",i.nuevaCancion.artista_ids.includes(e.id)),n.R7$(2),n.SpI(" ",e.nombre," ")}}function W(o,s){if(1&o&&(n.j41(0,"div",75),n.DNE(1,K,5,2,"div",76),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.artistasFiltradosCancion)}}function Q(o,s){if(1&o){const e=n.RV6();n.j41(0,"span",84),n.EFF(1),n.j41(2,"button",85),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(2);return c.Njj(a.removerArtistaCancion(t))}),n.EFF(3,"\xd7"),n.k0s()()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.R7$(),n.SpI(" ",i.getNombreArtista(e)," ")}}function Z(o,s){if(1&o&&(n.j41(0,"div",81)(1,"h5"),n.EFF(2,"Artistas seleccionados:"),n.k0s(),n.j41(3,"div",82),n.DNE(4,Q,4,1,"span",83),n.k0s()()),2&o){const e=n.XpG();n.R7$(4),n.Y8G("ngForOf",e.nuevaCancion.artista_ids)}}function nn(o,s){if(1&o&&(n.j41(0,"div",92),n.EFF(1),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.SpI(' No se encontraron canciones con "',e.busquedaCancionesEliminar,'" ')}}function en(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit;n.R7$(),n.SpI("\u{1f4bf} ",e.album.titulo)}}function tn(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit,i=n.XpG(3);n.R7$(),n.SpI("\u{1f3a4} ",i.obtenerNombresArtistas(e))}}function on(o,s){if(1&o&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit;n.R7$(),n.SpI("\u23f1\ufe0f ",e.duracion,"s")}}function an(o,s){if(1&o&&(n.j41(0,"small")(1,"a",104),n.EFF(2,"\u{1f3b5} Spotify"),n.k0s()()),2&o){const e=n.XpG().$implicit;n.R7$(),n.Y8G("href",e.urlSpotify,n.B4B)}}function rn(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",95)(1,"div",96)(2,"div",103),n.EFF(3,"\u{1f3b5}"),n.k0s(),n.j41(4,"div",99)(5,"h4"),n.EFF(6),n.k0s(),n.DNE(7,en,2,1,"p",74)(8,tn,2,1,"p",74)(9,on,2,1,"p",74)(10,an,3,1,"small",74),n.k0s()(),n.j41(11,"div",100)(12,"button",114),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(3);return c.Njj(a.eliminarCancion(t))}),n.j41(13,"span",24),n.EFF(14,"\u{1f5d1}\ufe0f"),n.k0s(),n.j41(15,"span",25),n.EFF(16,"Eliminar"),n.k0s()()()()}if(2&o){const e=s.$implicit,i=n.XpG(3);n.R7$(6),n.JRh(e.titulo),n.R7$(),n.Y8G("ngIf",e.album),n.R7$(),n.Y8G("ngIf","Sin artistas"!==i.obtenerNombresArtistas(e)),n.R7$(),n.Y8G("ngIf",e.duracion),n.R7$(),n.Y8G("ngIf",e.urlSpotify)}}function sn(o,s){if(1&o&&(n.j41(0,"div",93),n.DNE(1,rn,17,5,"div",94),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.Y8G("ngForOf",e.cancionesParaEliminar)}}function cn(o,s){1&o&&(n.j41(0,"div",105)(1,"p"),n.EFF(2,"\u{1f50d} Escribe en el buscador para ver las canciones disponibles"),n.k0s()())}function ln(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",86)(1,"h3"),n.EFF(2,"\u{1f3b5} Buscar y Eliminar Canciones"),n.k0s(),n.j41(3,"div",91),n.EFF(4," \u2139\ufe0f Usa el buscador para encontrar canciones. Aparecer\xe1n solo cuando escribas en el campo de b\xfasqueda. "),n.k0s(),n.j41(5,"div",51)(6,"input",113),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG();return n.DH7(a.busquedaCancionesEliminar,t)||(a.busquedaCancionesEliminar=t),c.Njj(t)}),n.bIt("ngModelChange",function(){c.eBV(e);const t=n.XpG();return c.Njj(t.filtrarCancionesParaEliminar())}),n.k0s(),n.DNE(7,nn,2,1,"div",53),n.k0s(),n.DNE(8,sn,2,1,"div",89)(9,cn,3,0,"div",90),n.k0s()}if(2&o){const e=n.XpG();n.R7$(6),n.R50("ngModel",e.busquedaCancionesEliminar),n.R7$(),n.Y8G("ngIf",e.busquedaCancionesEliminar.trim()&&0===e.cancionesParaEliminar.length),n.R7$(),n.Y8G("ngIf",e.cancionesParaEliminar&&e.cancionesParaEliminar.length>0),n.R7$(),n.Y8G("ngIf",!e.busquedaCancionesEliminar.trim())}}function dn(o,s){if(1&o&&(n.j41(0,"div",92),n.EFF(1),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.SpI(' No se encontraron usuarios con "',e.busquedaUsuarios,'" ')}}function mn(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",125)(1,"div",126)(2,"div",127),n.nrm(3,"img",128),n.j41(4,"span",129),n.EFF(5,"\u{1f451} ADMIN"),n.k0s()(),n.j41(6,"div",130)(7,"h4",131),n.EFF(8),n.k0s(),n.j41(9,"p",132),n.EFF(10),n.k0s()(),n.j41(11,"div",133)(12,"button",134),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.iniciarEdicionUsuario(t))}),n.j41(13,"span",24),n.EFF(14,"\u270f\ufe0f"),n.k0s(),n.j41(15,"span",25),n.EFF(16,"Editar"),n.k0s()(),n.j41(17,"button",135),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.cambiarRolUsuario(t,"cliente"))}),n.j41(18,"span",24),n.EFF(19,"\u2b07\ufe0f"),n.k0s(),n.j41(20,"span",25),n.EFF(21,"Hacer Cliente"),n.k0s()(),n.j41(22,"button",136),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.eliminarUsuario(t))}),n.j41(23,"span",24),n.EFF(24,"\u{1f5d1}\ufe0f"),n.k0s(),n.j41(25,"span",25),n.EFF(26,"Eliminar"),n.k0s()()()()()}if(2&o){const e=n.XpG().$implicit;n.R7$(3),n.Y8G("src","https://ui-avatars.com/api/?name="+e.nombre+"&background=8b5cf6&color=fff",n.B4B),n.R7$(5),n.JRh(e.nombre),n.R7$(2),n.JRh(e.email)}}function un(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",137)(1,"div",138)(2,"div",139)(3,"label",140),n.EFF(4,"Nombre"),n.k0s(),n.j41(5,"input",141),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.nombre,t)||(a.editandoUsuario.nombre=t),c.Njj(t)}),n.k0s()(),n.j41(6,"div",139)(7,"label",142),n.EFF(8,"Email"),n.k0s(),n.j41(9,"input",143),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.email,t)||(a.editandoUsuario.email=t),c.Njj(t)}),n.k0s()(),n.j41(10,"div",139)(11,"label",144),n.EFF(12,"Rol del usuario"),n.k0s(),n.j41(13,"select",145),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.rol,t)||(a.editandoUsuario.rol=t),c.Njj(t)}),n.j41(14,"option",50),n.EFF(15,"Administrador"),n.k0s(),n.j41(16,"option",49),n.EFF(17,"Cliente"),n.k0s()()(),n.j41(18,"div",146)(19,"button",147),n.bIt("click",function(){c.eBV(e);const t=n.XpG(4);return c.Njj(t.guardarCambiosUsuario())}),n.EFF(20,"\u{1f4be} Guardar"),n.k0s(),n.j41(21,"button",148),n.bIt("click",function(){c.eBV(e);const t=n.XpG(4);return c.Njj(t.cancelarEdicionUsuario())}),n.EFF(22,"\u274c Cancelar"),n.k0s()()()()}if(2&o){const e=n.XpG(4);n.R7$(5),n.R50("ngModel",e.editandoUsuario.nombre),n.R7$(4),n.R50("ngModel",e.editandoUsuario.email),n.R7$(4),n.R50("ngModel",e.editandoUsuario.rol)}}function pn(o,s){if(1&o&&(n.j41(0,"div",122),n.DNE(1,mn,27,3,"div",123)(2,un,23,3,"div",124),n.k0s()),2&o){const e=s.$implicit,i=n.XpG(3);n.R7$(),n.Y8G("ngIf",(null==i.usuarioEditando?null:i.usuarioEditando.id)!==e.id),n.R7$(),n.Y8G("ngIf",(null==i.usuarioEditando?null:i.usuarioEditando.id)===e.id)}}function gn(o,s){if(1&o&&(n.j41(0,"div",120),n.DNE(1,pn,3,2,"div",121),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.Y8G("ngForOf",e.usuariosAdminsFiltrados)}}function _n(o,s){1&o&&(n.j41(0,"div",149)(1,"p"),n.EFF(2,"\u{1f451} No hay administradores registrados"),n.k0s()())}function bn(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",125)(1,"div",126)(2,"div",127),n.nrm(3,"img",128),n.j41(4,"span",152),n.EFF(5,"\u{1f464} CLIENTE"),n.k0s()(),n.j41(6,"div",130)(7,"h4",131),n.EFF(8),n.k0s(),n.j41(9,"p",132),n.EFF(10),n.k0s()(),n.j41(11,"div",133)(12,"button",134),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.iniciarEdicionUsuario(t))}),n.j41(13,"span",24),n.EFF(14,"\u270f\ufe0f"),n.k0s(),n.j41(15,"span",25),n.EFF(16,"Editar"),n.k0s()(),n.j41(17,"button",153),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.cambiarRolUsuario(t,"admin"))}),n.j41(18,"span",24),n.EFF(19,"\u2b06\ufe0f"),n.k0s(),n.j41(20,"span",25),n.EFF(21,"Hacer Admin"),n.k0s()(),n.j41(22,"button",136),n.bIt("click",function(){c.eBV(e);const t=n.XpG().$implicit,a=n.XpG(3);return c.Njj(a.eliminarUsuario(t))}),n.j41(23,"span",24),n.EFF(24,"\u{1f5d1}\ufe0f"),n.k0s(),n.j41(25,"span",25),n.EFF(26,"Eliminar"),n.k0s()()()()()}if(2&o){const e=n.XpG().$implicit;n.R7$(3),n.Y8G("src","https://ui-avatars.com/api/?name="+e.nombre+"&background=1db954&color=fff",n.B4B),n.R7$(5),n.JRh(e.nombre),n.R7$(2),n.JRh(e.email)}}function fn(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",137)(1,"div",138)(2,"div",139)(3,"label",154),n.EFF(4,"Nombre"),n.k0s(),n.j41(5,"input",155),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.nombre,t)||(a.editandoUsuario.nombre=t),c.Njj(t)}),n.k0s()(),n.j41(6,"div",139)(7,"label",156),n.EFF(8,"Email"),n.k0s(),n.j41(9,"input",157),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.email,t)||(a.editandoUsuario.email=t),c.Njj(t)}),n.k0s()(),n.j41(10,"div",139)(11,"label",158),n.EFF(12,"Rol del usuario"),n.k0s(),n.j41(13,"select",159),n.mxI("ngModelChange",function(t){c.eBV(e);const a=n.XpG(4);return n.DH7(a.editandoUsuario.rol,t)||(a.editandoUsuario.rol=t),c.Njj(t)}),n.j41(14,"option",49),n.EFF(15,"Cliente"),n.k0s(),n.j41(16,"option",50),n.EFF(17,"Administrador"),n.k0s()()(),n.j41(18,"div",146)(19,"button",147),n.bIt("click",function(){c.eBV(e);const t=n.XpG(4);return c.Njj(t.guardarCambiosUsuario())}),n.EFF(20,"\u{1f4be} Guardar"),n.k0s(),n.j41(21,"button",148),n.bIt("click",function(){c.eBV(e);const t=n.XpG(4);return c.Njj(t.cancelarEdicionUsuario())}),n.EFF(22,"\u274c Cancelar"),n.k0s()()()()}if(2&o){const e=n.XpG(4);n.R7$(5),n.R50("ngModel",e.editandoUsuario.nombre),n.R7$(4),n.R50("ngModel",e.editandoUsuario.email),n.R7$(4),n.R50("ngModel",e.editandoUsuario.rol)}}function hn(o,s){if(1&o&&(n.j41(0,"div",151),n.DNE(1,bn,27,3,"div",123)(2,fn,23,3,"div",124),n.k0s()),2&o){const e=s.$implicit,i=n.XpG(3);n.R7$(),n.Y8G("ngIf",(null==i.usuarioEditando?null:i.usuarioEditando.id)!==e.id),n.R7$(),n.Y8G("ngIf",(null==i.usuarioEditando?null:i.usuarioEditando.id)===e.id)}}function Cn(o,s){if(1&o&&(n.j41(0,"div",120),n.DNE(1,hn,3,2,"div",150),n.k0s()),2&o){const e=n.XpG(2);n.R7$(),n.Y8G("ngForOf",e.usuariosClientesFiltrados)}}function vn(o,s){1&o&&(n.j41(0,"div",149)(1,"p"),n.EFF(2,"\u{1f464} No hay clientes registrados"),n.k0s()())}function xn(o,s){if(1&o&&(n.j41(0,"div",115)(1,"div",116)(2,"h3",117),n.EFF(3,"\u{1f451} Administradores"),n.k0s(),n.DNE(4,gn,2,1,"div",118)(5,_n,3,0,"ng-template",null,0,n.C5r),n.k0s(),n.j41(7,"div",116)(8,"h3",119),n.EFF(9,"\u{1f464} Clientes"),n.k0s(),n.DNE(10,Cn,2,1,"div",118)(11,vn,3,0,"ng-template",null,1,n.C5r),n.k0s()()),2&o){const e=n.sdS(6),i=n.sdS(12),t=n.XpG();n.R7$(4),n.Y8G("ngIf",t.usuariosAdminsFiltrados&&t.usuariosAdminsFiltrados.length>0)("ngIfElse",e),n.R7$(6),n.Y8G("ngIf",t.usuariosClientesFiltrados&&t.usuariosClientesFiltrados.length>0)("ngIfElse",i)}}function Fn(o,s){if(1&o&&(n.j41(0,"div",92),n.EFF(1),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.SpI(' No se encontraron comentarios con "',e.busquedaComentarios,'" ')}}function An(o,s){1&o&&(n.j41(0,"div",160)(1,"p"),n.EFF(2,"\u23f3 Cargando comentarios..."),n.k0s()())}function Mn(o,s){if(1&o&&(n.j41(0,"span",179),n.EFF(1),n.k0s()),2&o){const e=n.XpG().$implicit;n.R7$(),n.SpI(' de "',e.cancion.album.titulo,'" ')}}function kn(o,s){if(1&o&&(n.j41(0,"span",180),n.EFF(1),n.k0s()),2&o){const e=s.$implicit;n.R7$(),n.JRh(e)}}function En(o,s){if(1&o){const e=n.RV6();n.j41(0,"div",163)(1,"div",164)(2,"div",165),n.nrm(3,"img",166),n.j41(4,"div",167)(5,"h4"),n.EFF(6),n.k0s(),n.j41(7,"p",168),n.EFF(8),n.k0s()()(),n.j41(9,"div",169),n.EFF(10),n.k0s()(),n.j41(11,"div",170)(12,"div",171)(13,"strong"),n.EFF(14),n.k0s(),n.DNE(15,Mn,2,1,"span",172),n.k0s(),n.j41(16,"div",173),n.DNE(17,kn,2,1,"span",174),n.j41(18,"span",175),n.EFF(19),n.k0s()(),n.j41(20,"div",176),n.EFF(21),n.k0s()(),n.j41(22,"div",177)(23,"button",178),n.bIt("click",function(){const t=c.eBV(e).$implicit,a=n.XpG(2);return c.Njj(a.eliminarComentario(t))}),n.j41(24,"span",24),n.EFF(25,"\u{1f5d1}\ufe0f"),n.k0s(),n.j41(26,"span",25),n.EFF(27,"Eliminar"),n.k0s()()()()}if(2&o){const e=s.$implicit,i=n.XpG(2);n.R7$(3),n.Y8G("src","https://ui-avatars.com/api/?name="+((null==e.usuario?null:e.usuario.nombre)||"Usuario")+"&background=8b5cf6&color=fff",n.B4B),n.R7$(3),n.JRh((null==e.usuario?null:e.usuario.nombre)||"Usuario desconocido"),n.R7$(2),n.JRh((null==e.usuario?null:e.usuario.email)||"Email no disponible"),n.R7$(2),n.SpI(" ",i.formatearFechaComentario(e.created_at)," "),n.R7$(4),n.SpI("\u{1f3b5} ",(null==e.cancion?null:e.cancion.titulo)||"Canci\xf3n desconocida"),n.R7$(),n.Y8G("ngIf",null==e.cancion||null==e.cancion.album?null:e.cancion.album.titulo),n.R7$(2),n.Y8G("ngForOf",i.obtenerEstrellas(e.valor)),n.R7$(2),n.SpI("(",e.valor,"/5)"),n.R7$(2),n.SpI(' "',e.comentario,'" ')}}function jn(o,s){if(1&o&&(n.j41(0,"div",161),n.DNE(1,En,28,9,"div",162),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.comentariosFiltrados)}}function yn(o,s){1&o&&(n.j41(0,"div",92),n.EFF(1," \u{1f4ac} No hay comentarios disponibles "),n.k0s())}let Dn=(()=>{class o{http;nuevoArtista={nombre:"",descripcion:"",imagen:null,urlSpotify:""};nuevoAlbum={titulo:"",fecha_lanzamiento:"",urlSpotify:"",imagen:null,artista_ids:[]};nuevaCancion={titulo:"",urlSpotify:"",album_id:0,duracion:0,ruta_audio:"",artista_ids:[]};artistas=[];albumes=[];usuarios=[];usuariosAdmins=[];usuariosClientes=[];busquedaArtistaAlbum="";busquedaArtistaCancion="";busquedaAlbumCancion="";busquedaUsuarios="";artistasFiltradosAlbum=[];artistasFiltradosCancion=[];albumesFiltrados=[];usuariosFiltrados=[];usuariosAdminsFiltrados=[];usuariosClientesFiltrados=[];seccionesAbiertas={artista:!0,album:!1,cancion:!1,usuarios:!1,comentarios:!1};nuevoUsuario={nombre:"",email:"",password:"",rol:"cliente"};usuarioEditando=null;editandoUsuario={nombre:"",email:"",rol:"cliente"};notificaciones=[];modalConfirmacion={visible:!1,titulo:"",mensaje:"",accion:null,tipo:"danger"};comentarios=[];comentariosFiltrados=[];busquedaComentarios="";cargandoComentarios=!1;canciones=[];cancionesParaMostrar=[];busquedaCanciones="";cancionesParaEliminar=[];busquedaCancionesEliminar="";albumenesParaMostrar=[];busquedaAlbumes="";constructor(e){this.http=e}ngOnInit(){this.cargarArtistas(),this.cargarAlbumes(),this.cargarUsuarios(),this.cargarComentarios(),this.cargarCanciones()}cargarArtistas(){this.http.get("http://127.0.0.1:8000/api/artistas",{headers:{Accept:"application/json"}}).subscribe(e=>{console.log("Artistas cargados:",e),this.artistas=e,this.inicializarFiltros()},e=>{console.error("Error al cargar artistas:",e),console.error("Error details:",e.error)})}cargarAlbumes(){this.http.get("http://127.0.0.1:8000/api/albumes",{headers:{Accept:"application/json"}}).subscribe(e=>{console.log("\xc1lbumes cargados:",e),this.albumes=e.map(i=>({...i,imagen:i.imagen?`http://127.0.0.1:8000/${i.imagen}`:"/assets/default-album.svg"})),this.albumenesParaMostrar=this.albumes.slice(0,6),this.inicializarFiltros()},e=>{console.error("Error al cargar \xe1lbumes:",e),console.error("Error details:",e.error)})}cargarUsuarios(){this.http.get("http://127.0.0.1:8000/api/usuarios",{headers:{Accept:"application/json"}}).subscribe(e=>{console.log("Usuarios cargados:",e),this.usuarios=e,this.usuariosAdmins=e.filter(i=>"admin"===i.rol),this.usuariosClientes=e.filter(i=>"cliente"===i.rol),this.filtrarUsuarios()},e=>{console.error("Error al cargar usuarios:",e),console.error("Error details:",e.error)})}cargarCanciones(){this.http.get("http://127.0.0.1:8000/api/canciones",{headers:{Accept:"application/json"}}).subscribe(e=>{console.log("Canciones cargadas:",e),this.canciones=e,this.cancionesParaMostrar=[],this.cancionesParaEliminar=[]},e=>{console.error("Error al cargar canciones:",e),console.error("Error details:",e.error)})}filtrarArtistasAlbum(){if(this.busquedaArtistaAlbum.trim()){const e=this.busquedaArtistaAlbum.toLowerCase();this.artistasFiltradosAlbum=this.artistas.filter(i=>i.nombre.toLowerCase().includes(e))}else this.artistasFiltradosAlbum=this.artistas}filtrarArtistasCancion(){if(this.busquedaArtistaCancion.trim()){const e=this.busquedaArtistaCancion.toLowerCase();this.artistasFiltradosCancion=this.artistas.filter(i=>i.nombre.toLowerCase().includes(e))}else this.artistasFiltradosCancion=this.artistas}filtrarAlbumes(){if(this.busquedaAlbumCancion.trim()){const e=this.busquedaAlbumCancion.toLowerCase();this.albumesFiltrados=this.albumes.filter(i=>i.titulo.toLowerCase().includes(e))}else this.albumesFiltrados=this.albumes}filtrarUsuarios(){if(this.busquedaUsuarios.trim()){const e=this.busquedaUsuarios.toLowerCase();this.usuariosFiltrados=this.usuarios.filter(i=>i.nombre.toLowerCase().includes(e)||i.email.toLowerCase().includes(e)),this.usuariosAdminsFiltrados=this.usuariosFiltrados.filter(i=>"admin"===i.rol),this.usuariosClientesFiltrados=this.usuariosFiltrados.filter(i=>"cliente"===i.rol)}else this.usuariosFiltrados=this.usuarios,this.usuariosAdminsFiltrados=this.usuariosAdmins,this.usuariosClientesFiltrados=this.usuariosClientes}inicializarFiltros(){this.artistasFiltradosAlbum=[...this.artistas],this.artistasFiltradosCancion=[...this.artistas],this.albumesFiltrados=[...this.albumes],this.usuariosFiltrados=[...this.usuarios],this.usuariosAdminsFiltrados=[...this.usuariosAdmins],this.usuariosClientesFiltrados=[...this.usuariosClientes]}toggleSeccion(e){this.seccionesAbiertas={artista:!1,album:!1,cancion:!1,usuarios:!1,comentarios:!1,[e]:!this.seccionesAbiertas[e]}}onAlbumCancionChange(e,i){this.nuevaCancion.album_id=e.target.checked?i:0}esAlbumSeleccionado(e){return this.nuevaCancion.album_id===e}seleccionarAlbum(e){this.nuevaCancion.album_id=this.nuevaCancion.album_id===e?0:e}onArtistaImagenSeleccionada(e){const i=e.target.files[0];if(i){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(i.type))return this.mostrarNotificacion("\u274c Solo se permiten archivos JPEG, JPG, PNG o GIF","error"),void(e.target.value="");if(i.size>5242880)return this.mostrarNotificacion("\u274c La imagen no puede ser mayor a 5MB","error"),void(e.target.value="");console.log("\u2705 Imagen validada:",{name:i.name,type:i.type,size:i.size,sizeInMB:(i.size/1048576).toFixed(2)+" MB"}),this.nuevoArtista.imagen=i,this.mostrarNotificacion("\u2705 Imagen seleccionada correctamente","success")}}onAlbumImagenSeleccionada(e){const i=e.target.files[0];i&&(this.nuevoAlbum.imagen=i)}agregarArtista(){if(!this.nuevoArtista.nombre.trim())return void this.mostrarNotificacion("\u274c El nombre del artista es requerido","error");const e=new FormData;e.append("nombre",this.nuevoArtista.nombre.trim()),e.append("descripcion",this.nuevoArtista.descripcion.trim()),e.append("urlSpotify",this.nuevoArtista.urlSpotify.trim()),this.nuevoArtista.imagen?(e.append("imagen",this.nuevoArtista.imagen,this.nuevoArtista.imagen.name),console.log("\u{1f4ce} Enviando imagen:",{name:this.nuevoArtista.imagen.name,type:this.nuevoArtista.imagen.type,size:this.nuevoArtista.imagen.size})):console.log("\u26a0\ufe0f No se seleccion\xf3 imagen"),console.log("\u{1f4e4} FormData para artista:");for(let[i,t]of e.entries())t instanceof File?console.log(`${i}: [File] ${t.name} (${t.type}, ${t.size} bytes)`):console.log(`${i}: ${t}`);this.http.post("http://127.0.0.1:8000/api/artistas",e,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("\u2705 Artista agregado exitosamente:",i),this.mostrarNotificacion("\u2728 Artista agregado exitosamente","success"),this.limpiarFormularioArtista(),this.cargarArtistas()},i=>{console.error("\u274c Error al agregar artista:",i),console.error("Error details:",i.error);let t="Error desconocido";i.error?.message?t=i.error.message:i.error?.errors?t=Object.values(i.error.errors).flat().join(", "):i.message&&(t=i.message),this.mostrarNotificacion("\u274c Error al agregar artista: "+t,"error")})}agregarAlbum(){if(!this.nuevoAlbum.titulo.trim()||0===this.nuevoAlbum.artista_ids.length)return void this.mostrarNotificacion("\u274c El t\xedtulo del \xe1lbum y al menos un artista son requeridos","error");const e=new FormData;e.append("titulo",this.nuevoAlbum.titulo.trim()),e.append("fecha_lanzamiento",this.nuevoAlbum.fecha_lanzamiento),e.append("urlSpotify",this.nuevoAlbum.urlSpotify.trim()),this.nuevoAlbum.artista_ids.forEach(i=>{e.append("artista_ids[]",i.toString())}),this.nuevoAlbum.imagen&&(e.append("imagen",this.nuevoAlbum.imagen,this.nuevoAlbum.imagen.name),console.log("\u{1f4ce} Enviando imagen de \xe1lbum:",this.nuevoAlbum.imagen.name)),console.log("\u{1f4e4} FormData para \xe1lbum:");for(let[i,t]of e.entries())t instanceof File?console.log(`${i}: [File] ${t.name} (${t.type}, ${t.size} bytes)`):console.log(`${i}: ${t}`);this.http.post("http://127.0.0.1:8000/api/albumes",e,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("\u2705 \xc1lbum agregado exitosamente:",i),this.mostrarNotificacion("\u{1f4bf} \xc1lbum agregado exitosamente","success"),this.limpiarFormularioAlbum(),this.cargarAlbumes()},i=>{console.error("\u274c Error al agregar \xe1lbum:",i),console.error("Error details:",i.error);let t="Error desconocido";i.error?.message?t=i.error.message:i.error?.errors?t=Object.values(i.error.errors).flat().join(", "):i.message&&(t=i.message),this.mostrarNotificacion("\u274c Error al agregar \xe1lbum: "+t,"error")})}agregarCancion(){this.nuevaCancion.titulo.trim()&&this.nuevaCancion.album_id&&0!==this.nuevaCancion.artista_ids.length?this.http.post("http://127.0.0.1:8000/api/canciones",{titulo:this.nuevaCancion.titulo,urlSpotify:this.nuevaCancion.urlSpotify,album_id:this.nuevaCancion.album_id,duracion:this.nuevaCancion.duracion,ruta_audio:this.nuevaCancion.ruta_audio,artista_ids:this.nuevaCancion.artista_ids},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).subscribe(i=>{console.log("Canci\xf3n agregada:",i),this.mostrarNotificacion("\u{1f3b5} Canci\xf3n agregada exitosamente","success"),this.limpiarFormularioCancion()},i=>{console.error("Error al agregar canci\xf3n:",i),console.error("Error details:",i.error),this.mostrarNotificacion("\u274c Error al agregar canci\xf3n: "+(i.error?.message||i.message),"error")}):this.mostrarNotificacion("El t\xedtulo, \xe1lbum y al menos un artista son requeridos","error")}limpiarFormularioArtista(){this.nuevoArtista={nombre:"",descripcion:"",imagen:null,urlSpotify:""};const e=document.getElementById("imagenArtista");e&&(e.value=""),console.log("Formulario de artista limpiado")}limpiarFormularioAlbum(){this.nuevoAlbum={titulo:"",fecha_lanzamiento:"",urlSpotify:"",imagen:null,artista_ids:[]},this.busquedaArtistaAlbum="",this.filtrarArtistasAlbum();const e=document.getElementById("imagenAlbum");e&&(e.value="")}limpiarFormularioCancion(){this.nuevaCancion={titulo:"",urlSpotify:"",album_id:0,duracion:0,ruta_audio:"",artista_ids:[]},this.busquedaArtistaCancion="",this.busquedaAlbumCancion="",this.filtrarArtistasCancion(),this.filtrarAlbumes(),this.cargarCanciones()}limpiarFormularioUsuario(){this.nuevoUsuario={nombre:"",email:"",password:"",rol:"cliente"},this.busquedaUsuarios="",this.filtrarUsuarios()}agregarUsuario(){if(!this.nuevoUsuario.nombre.trim()||!this.nuevoUsuario.email.trim()||!this.nuevoUsuario.password.trim())return void this.mostrarNotificacion("Todos los campos son requeridos","error");const e=new FormData;e.append("nombre",this.nuevoUsuario.nombre.trim()),e.append("email",this.nuevoUsuario.email.trim()),e.append("password",this.nuevoUsuario.password),e.append("rol",this.nuevoUsuario.rol),console.log("FormData entries:");for(let i of e.entries())console.log(i[0]+": "+i[1]);this.http.post("http://127.0.0.1:8000/api/usuarios",e,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("Usuario agregado:",i),this.mostrarNotificacion("\u{1f464} Usuario agregado exitosamente","success"),this.limpiarFormularioUsuario(),this.cargarUsuarios()},i=>{console.error("Error al agregar usuario:",i),console.error("Error details:",i.error),this.mostrarNotificacion("\u274c Error al agregar usuario: "+(i.error?.message||i.message),"error")})}iniciarEdicionUsuario(e){this.usuarioEditando=e,this.editandoUsuario={nombre:e.nombre,email:e.email,rol:e.rol}}cancelarEdicionUsuario(){this.usuarioEditando=null,this.editandoUsuario={nombre:"",email:"",rol:"cliente"}}guardarCambiosUsuario(){if(!this.editandoUsuario.nombre.trim()||!this.editandoUsuario.email.trim())return void this.mostrarNotificacion("Nombre y email son requeridos","error");const e={nombre:this.editandoUsuario.nombre.trim(),email:this.editandoUsuario.email.trim(),rol:this.editandoUsuario.rol};this.http.put(`http://127.0.0.1:8000/api/usuarios/${this.usuarioEditando.id}`,e,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).subscribe(i=>{console.log("Usuario actualizado:",i),this.mostrarNotificacion("\u2705 Usuario actualizado exitosamente","success"),this.cancelarEdicionUsuario(),this.cargarUsuarios()},i=>{console.error("Error al actualizar usuario:",i),console.error("Error details:",i.error),this.mostrarNotificacion("\u274c Error al actualizar usuario: "+(i.error?.message||i.message),"error")})}cambiarRolUsuario(e,i){this.mostrarConfirmacion("Cambiar rol de usuario",`\xbfSeguro que deseas cambiar el rol de ${e.nombre} a ${i}?`,()=>{this.http.put(`http://127.0.0.1:8000/api/usuarios/${e.id}`,{nombre:e.nombre,email:e.email,rol:i},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).subscribe(a=>{console.log("Rol actualizado:",a),this.mostrarNotificacion(`\u{1f504} Rol cambiado a ${i} exitosamente`,"success"),this.cargarUsuarios()},a=>{console.error("Error al cambiar rol:",a),console.error("Error details:",a.error),this.mostrarNotificacion("\u274c Error al cambiar rol: "+(a.error?.message||a.message),"error")})},"warning")}editarUsuario(e){this.iniciarEdicionUsuario(e)}eliminarUsuario(e){this.mostrarConfirmacion("Eliminar usuario",`\xbfSeguro que deseas eliminar a ${e.nombre}? Esta acci\xf3n no se puede deshacer.`,()=>{this.http.delete(`http://127.0.0.1:8000/api/usuarios/${e.id}`,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("Usuario eliminado:",i),this.mostrarNotificacion("\u{1f5d1}\ufe0f Usuario eliminado exitosamente","success"),this.cargarUsuarios()},i=>{console.error("Error al eliminar usuario:",i),console.error("Error details:",i.error),this.mostrarNotificacion("\u274c Error al eliminar usuario: "+(i.error?.message||i.message),"error")})},"danger")}onArtistaAlbumChange(e,i){e.target.checked?this.agregarArtistaAlbum(i):this.removerArtistaAlbum(i)}onArtistaCancionChange(e,i){e.target.checked?this.agregarArtistaCancion(i):this.removerArtistaCancion(i)}agregarArtistaAlbum(e){this.nuevoAlbum.artista_ids.includes(e)||this.nuevoAlbum.artista_ids.push(e)}removerArtistaAlbum(e){this.nuevoAlbum.artista_ids=this.nuevoAlbum.artista_ids.filter(i=>i!==e)}agregarArtistaCancion(e){this.nuevaCancion.artista_ids.includes(e)||this.nuevaCancion.artista_ids.push(e)}removerArtistaCancion(e){this.nuevaCancion.artista_ids=this.nuevaCancion.artista_ids.filter(i=>i!==e)}getNombreArtista(e){const i=this.artistas.find(t=>t.id===e);return i?i.nombre:""}getNombreAlbum(e){const i=this.albumes.find(t=>t.id===e);return i?i.titulo:""}mostrarNotificacion(e,i="info"){const t=Date.now();this.notificaciones.push({id:t,mensaje:e,tipo:i}),setTimeout(()=>{this.cerrarNotificacion(t)},5e3)}cerrarNotificacion(e){this.notificaciones=this.notificaciones.filter(i=>i.id!==e)}mostrarConfirmacion(e,i,t,a="danger"){this.modalConfirmacion={visible:!0,titulo:e,mensaje:i,accion:t,tipo:a}}confirmarAccion(){this.modalConfirmacion.accion&&this.modalConfirmacion.accion(),this.cerrarConfirmacion()}cerrarConfirmacion(){this.modalConfirmacion={visible:!1,titulo:"",mensaje:"",accion:null,tipo:"danger"}}cargarComentarios(){this.cargandoComentarios=!0,this.http.get("http://127.0.0.1:8000/api/calificaciones-cancion",{headers:{Accept:"application/json"}}).subscribe(e=>{console.log("Comentarios cargados:",e),this.comentarios=e,this.filtrarComentarios(),this.cargandoComentarios=!1},e=>{console.error("Error al cargar comentarios:",e),this.mostrarNotificacion("\u274c Error al cargar comentarios","error"),this.cargandoComentarios=!1})}filtrarComentarios(){if(this.busquedaComentarios.trim()){const e=this.busquedaComentarios.toLowerCase();this.comentariosFiltrados=this.comentarios.filter(i=>(i.usuario?.nombre||"").toLowerCase().includes(e)||(i.cancion?.titulo||"").toLowerCase().includes(e)||(i.comentario||"").toLowerCase().includes(e))}else this.comentariosFiltrados=[...this.comentarios]}filtrarAlbumesAdmin(){if(this.busquedaAlbumes.trim()){const e=this.busquedaAlbumes.toLowerCase();this.albumenesParaMostrar=this.albumes.filter(i=>{const t=i.titulo.toLowerCase().includes(e),a=i.fecha_lanzamiento&&i.fecha_lanzamiento.toLowerCase().includes(e);let r=!1;return i.artistas&&i.artistas.length>0&&(r=i.artistas.map(u=>u.nombre).join(" ").toLowerCase().includes(e)),t||a||r})}else this.albumenesParaMostrar=this.albumes.slice(0,6)}filtrarCancionesAdmin(){if(this.busquedaCanciones.trim()){const e=this.busquedaCanciones.toLowerCase();this.cancionesParaMostrar=this.canciones.filter(i=>{const t=i.titulo.toLowerCase().includes(e),a=i.album&&i.album.titulo.toLowerCase().includes(e);let r=!1;return i.artistas&&i.artistas.length>0&&(r=i.artistas.map(u=>u.nombre).join(" ").toLowerCase().includes(e)),t||a||r})}else this.cancionesParaMostrar=[]}filtrarCancionesParaEliminar(){if(this.busquedaCancionesEliminar.trim()){const e=this.busquedaCancionesEliminar.toLowerCase();this.cancionesParaEliminar=this.canciones.filter(i=>{const t=i.titulo.toLowerCase().includes(e),a=i.album&&i.album.titulo.toLowerCase().includes(e);let r=!1;return i.artistas&&i.artistas.length>0&&(r=i.artistas.map(u=>u.nombre).join(" ").toLowerCase().includes(e)),t||a||r})}else this.cancionesParaEliminar=[]}obtenerCancionesAleatorias(e,i){if(e.length<=i)return[...e];const t=[...e];for(let a=t.length-1;a>0;a--){const r=Math.floor(Math.random()*(a+1));[t[a],t[r]]=[t[r],t[a]]}return t.slice(0,i)}eliminarComentario(e){this.mostrarConfirmacion("\u{1f4e7} Eliminar comentario y notificar usuario",`\xbfSeguro que deseas eliminar el comentario de ${e.usuario?.nombre||"Usuario desconocido"}?\n      \n\u26a0\ufe0f Esta acci\xf3n:\n\u2022 Eliminar\xe1 el comentario permanentemente\n\u2022 Enviar\xe1 una notificaci\xf3n por email al usuario\n\u2022 Generar\xe1 un PDF con los detalles de la eliminaci\xf3n\n\nEsta acci\xf3n NO SE PUEDE DESHACER.`,()=>{this.http.delete(`http://127.0.0.1:8000/api/calificaciones-cancion/${e.id}`,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("Comentario eliminado:",i),this.mostrarNotificacion("\ufffd Comentario eliminado y notificaci\xf3n enviada por email","success"),this.cargarComentarios()},i=>{console.error("Error al eliminar comentario:",i),this.mostrarNotificacion("\u274c Error al eliminar comentario: "+(i.error?.message||i.message),"error")})},"danger")}eliminarAlbum(e){this.mostrarConfirmacion("\u26a0\ufe0f Eliminar \xc1lbum Completo",`\xbfEst\xe1s seguro de que deseas eliminar el \xe1lbum "${e.titulo}"?\n\n\u26a0\ufe0f ADVERTENCIA: Esta acci\xf3n eliminar\xe1:\n\u2022 El \xe1lbum "${e.titulo}" \n\u2022 TODAS las canciones que pertenecen a este \xe1lbum\n\u2022 Todas las calificaciones y comentarios de esas canciones\n\nEsta acci\xf3n NO SE PUEDE DESHACER.`,()=>{this.http.delete(`http://127.0.0.1:8000/api/albumes/${e.id}`,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("\xc1lbum eliminado:",i),this.mostrarNotificacion("\u{1f5d1}\ufe0f \xc1lbum y todas sus canciones eliminados exitosamente","success"),this.cargarAlbumes(),this.cargarCanciones()},i=>{console.error("Error al eliminar \xe1lbum:",i),this.mostrarNotificacion("\u274c Error al eliminar \xe1lbum: "+(i.error?.message||i.message),"error")})},"danger")}eliminarCancion(e){this.mostrarConfirmacion("\u{1f5d1}\ufe0f Eliminar Canci\xf3n",`\xbfEst\xe1s seguro de que deseas eliminar la canci\xf3n "${e.titulo}"?\n\n\u26a0\ufe0f Esta acci\xf3n eliminar\xe1:\n\u2022 La canci\xf3n "${e.titulo}"\n\u2022 Todas las calificaciones y comentarios de esta canci\xf3n\n\nEsta acci\xf3n NO SE PUEDE DESHACER.`,()=>{this.http.delete(`http://127.0.0.1:8000/api/canciones/${e.id}`,{headers:{Accept:"application/json"}}).subscribe(i=>{console.log("Canci\xf3n eliminada:",i),this.mostrarNotificacion("\u{1f5d1}\ufe0f Canci\xf3n y todas sus calificaciones eliminadas exitosamente","success"),this.cargarCanciones(),this.cargarComentarios(),this.busquedaCancionesEliminar.trim()&&this.filtrarCancionesParaEliminar()},i=>{console.error("Error al eliminar canci\xf3n:",i),this.mostrarNotificacion("\u274c Error al eliminar canci\xf3n: "+(i.error?.message||i.message),"error")})},"danger")}formatearFechaComentario(e){return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}obtenerEstrellas(e){const i=[];for(let t=1;t<=5;t++)i.push(t<=e?"\u2b50":"\u2606");return i}obtenerNombresArtistas(e){return e.artistas&&e.artistas.length>0?e.artistas.map(i=>i.nombre).join(", "):"Sin artistas"}obtenerNombresArtistasAlbum(e){return e.artistas&&e.artistas.length>0?e.artistas.map(i=>i.nombre).join(", "):"Sin artistas"}static \u0275fac=function(i){return new(i||o)(n.rXU(_.Qq))};static \u0275cmp=n.VBU({type:o,selectors:[["app-home-admin"]],decls:153,vars:55,consts:[["noAdmins",""],["noClientes",""],[1,"home-container"],[1,"notificaciones-container"],["class","notificacion",3,"ngClass",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"admin-panel"],[1,"title"],[1,"management-card"],[1,"card-header",3,"click"],[1,"card-icon"],[1,"toggle-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","9,18 15,12 9,6"],[1,"card-content"],[1,"form-container"],[1,"form-grid"],["type","text","name","nombreArtista","placeholder","Nombre del artista","required","",3,"ngModelChange","ngModel"],["name","descripcionArtista","placeholder","Descripci\xf3n del artista","rows","3",3,"ngModelChange","ngModel"],["type","text","name","urlSpotifyArtista","placeholder","URL de Spotify (opcional)",3,"ngModelChange","ngModel"],[1,"file-input-container"],["type","file","id","imagenArtista","accept","image/*",1,"file-input",3,"change"],["for","imagenArtista",1,"file-label"],["type","button",1,"submit-btn",3,"click"],[1,"btn-icon"],[1,"btn-text"],["type","text","name","tituloAlbum","placeholder","T\xedtulo del \xe1lbum","required","",3,"ngModelChange","ngModel"],["type","date","name","fechaLanzamiento",3,"ngModelChange","ngModel"],["type","text","name","urlSpotifyAlbum","placeholder","URL de Spotify (opcional)",3,"ngModelChange","ngModel"],["type","file","id","imagenAlbum","accept","image/*",1,"file-input",3,"change"],["for","imagenAlbum",1,"file-label"],[1,"search-container","full-width"],["type","text","name","busquedaArtistaAlbum","placeholder","\u{1f50d} Buscar artistas...",1,"search-input",3,"ngModelChange","ngModel"],["class","artists-selection",4,"ngIf"],["class","selected-artists",4,"ngIf"],["type","button",1,"submit-btn","full-width",3,"click"],["class","existing-items-container",4,"ngIf"],["type","text","name","tituloCancion","placeholder","T\xedtulo de la canci\xf3n","required","",3,"ngModelChange","ngModel"],["type","text","name","urlSpotifyCancion","placeholder","URL de Spotify (opcional)",3,"ngModelChange","ngModel"],["type","number","name","duracionCancion","placeholder","Duraci\xf3n en segundos","min","0",3,"ngModelChange","ngModel"],["type","text","name","rutaAudio","placeholder","Ruta del audio (opcional)",3,"ngModelChange","ngModel"],["type","text","name","busquedaAlbumCancion","placeholder","\u{1f50d} Buscar \xe1lbumes...",1,"search-input",3,"ngModelChange","ngModel"],["class","albums-selection",4,"ngIf"],["class","selected-album",4,"ngIf"],["type","text","name","busquedaArtistaCancion","placeholder","\u{1f50d} Buscar artistas...",1,"search-input",3,"ngModelChange","ngModel"],["type","text","name","nombreUsuario","placeholder","Nombre completo","required","",3,"ngModelChange","ngModel"],["type","email","name","emailUsuario","placeholder","correo@ejemplo.com","required","",3,"ngModelChange","ngModel"],["type","password","name","passwordUsuario","placeholder","Contrase\xf1a","required","",3,"ngModelChange","ngModel"],["name","rolUsuario",1,"role-select",3,"ngModelChange","ngModel"],["value","cliente"],["value","admin"],[1,"search-container"],["type","text","name","busquedaUsuarios","placeholder","\u{1f50d} Buscar por nombre o email...",1,"search-input",3,"ngModelChange","ngModel"],["class","no-results",4,"ngIf"],["class","usuarios-vertical",4,"ngIf"],["type","text","name","busquedaComentarios","placeholder","\u{1f50d} Buscar por usuario, canci\xf3n o comentario...",1,"search-input",3,"ngModelChange","ngModel"],["class","loading-message",4,"ngIf"],["class","comentarios-list",4,"ngIf"],[1,"notificacion",3,"ngClass"],[1,"notificacion-content"],[1,"notificacion-icono"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"notificacion-mensaje"],[1,"notificacion-cerrar",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-confirmacion",3,"click","ngClass"],[1,"modal-header"],[1,"modal-icono"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-cancelar",3,"click"],[1,"btn-confirmar",3,"click","ngClass"],[4,"ngIf"],[1,"artists-selection"],["class","artist-option",4,"ngFor","ngForOf"],[1,"artist-option"],[1,"checkbox-label"],["type","checkbox",3,"change","checked"],[1,"checkmark"],[1,"selected-artists"],[1,"selected-tags"],["class","selected-tag",4,"ngFor","ngForOf"],[1,"selected-tag"],["type","button",1,"remove-tag",3,"click"],[1,"existing-items-container"],["class","info-message",4,"ngIf"],["type","text","name","busquedaAlbumes","placeholder","\u{1f50d} Buscar \xe1lbumes por t\xedtulo, artista o fecha...",1,"search-input",3,"ngModelChange","ngModel"],["class","items-grid",4,"ngIf"],["class","no-items",4,"ngIf"],[1,"info-message"],[1,"no-results"],[1,"items-grid"],["class","item-card",4,"ngFor","ngForOf"],[1,"item-card"],[1,"item-info"],["class","item-image",3,"src","alt",4,"ngIf"],["class","item-placeholder",4,"ngIf"],[1,"item-details"],[1,"item-actions"],["type","button","title","Eliminar \xe1lbum",1,"btn-horizontal","delete-btn",3,"click"],[1,"item-image",3,"src","alt"],[1,"item-placeholder"],["target","_blank",3,"href"],[1,"no-items"],[1,"albums-selection"],["class","album-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"album-option",3,"click"],[1,"album-name"],["class","album-year",4,"ngIf"],[1,"album-year"],[1,"selected-album"],["type","text","name","busquedaCancionesEliminar","placeholder","\u{1f50d} Buscar canciones por t\xedtulo, \xe1lbum o artista...",1,"search-input",3,"ngModelChange","ngModel"],["type","button","title","Eliminar canci\xf3n",1,"btn-horizontal","delete-btn",3,"click"],[1,"usuarios-vertical"],[1,"usuarios-section"],[1,"table-title","admin-title"],["class","usuarios-list",4,"ngIf","ngIfElse"],[1,"table-title","cliente-title"],[1,"usuarios-list"],["class","usuario-card admin-user",4,"ngFor","ngForOf"],[1,"usuario-card","admin-user"],["class","usuario-display",4,"ngIf"],["class","usuario-edit",4,"ngIf"],[1,"usuario-display"],[1,"usuario-content"],[1,"usuario-header-horizontal"],["alt","avatar",1,"usuario-perfil-avatar",3,"src"],[1,"usuario-tipo-badge","tipo-admin"],[1,"usuario-datos-section"],[1,"usuario-nombre-horizontal"],[1,"usuario-email-horizontal"],[1,"usuario-acciones-horizontal"],["type","button","title","Editar usuario",1,"btn-horizontal","edit-btn",3,"click"],["type","button","title","Degradar a Cliente",1,"btn-horizontal","demote-btn",3,"click"],["type","button","title","Eliminar usuario",1,"btn-horizontal","delete-btn",3,"click"],[1,"usuario-edit"],[1,"edit-form-grid"],[1,"form-group"],["for","editNombre"],["type","text","id","editNombre","placeholder","Nombre completo",1,"edit-input",3,"ngModelChange","ngModel"],["for","editEmail"],["type","email","id","editEmail","placeholder","correo@ejemplo.com",1,"edit-input",3,"ngModelChange","ngModel"],["for","editRol"],["id","editRol",1,"edit-select",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn-save",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"no-users-message"],["class","usuario-card client-user",4,"ngFor","ngForOf"],[1,"usuario-card","client-user"],[1,"usuario-tipo-badge","tipo-cliente"],["type","button","title","Promover a Admin",1,"btn-horizontal","promote-btn",3,"click"],["for","editNombreCliente"],["type","text","id","editNombreCliente","placeholder","Nombre completo",1,"edit-input",3,"ngModelChange","ngModel"],["for","editEmailCliente"],["type","email","id","editEmailCliente","placeholder","correo@ejemplo.com",1,"edit-input",3,"ngModelChange","ngModel"],["for","editRolCliente"],["id","editRolCliente",1,"edit-select",3,"ngModelChange","ngModel"],[1,"loading-message"],[1,"comentarios-list"],["class","comentario-card",4,"ngFor","ngForOf"],[1,"comentario-card"],[1,"comentario-header"],[1,"comentario-usuario"],["alt","avatar",1,"comentario-avatar",3,"src"],[1,"comentario-info"],[1,"comentario-email"],[1,"comentario-fecha"],[1,"comentario-contenido"],[1,"comentario-cancion"],["class","album-info",4,"ngIf"],[1,"comentario-calificacion"],["class","estrella",4,"ngFor","ngForOf"],[1,"valor-numerico"],[1,"comentario-texto"],[1,"comentario-acciones"],["type","button","title","Eliminar comentario",1,"btn-horizontal","delete-btn",3,"click"],[1,"album-info"],[1,"estrella"]],template:function(i,t){1&i&&(n.j41(0,"main",2)(1,"div",3),n.DNE(2,v,12,6,"div",4),n.k0s(),n.DNE(3,y,21,11,"div",5),n.j41(4,"section",6)(5,"h1",7),n.EFF(6,"\u{1f3b5} Panel de Administraci\xf3n"),n.k0s(),n.j41(7,"article",8)(8,"div",9),n.bIt("click",function(){return t.toggleSeccion("artista")}),n.j41(9,"h2")(10,"span",10),n.EFF(11,"\u{1f3a4}"),n.k0s(),n.EFF(12," Gesti\xf3n de Artistas "),n.k0s(),n.j41(13,"span",11),c.qSk(),n.j41(14,"svg",12),n.nrm(15,"polyline",13),n.k0s()()(),c.joV(),n.j41(16,"div",14)(17,"div",15)(18,"h3"),n.EFF(19,"\u2728 Agregar Nuevo Artista"),n.k0s(),n.j41(20,"form",16)(21,"input",17),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoArtista.nombre,r)||(t.nuevoArtista.nombre=r),r}),n.k0s(),n.j41(22,"textarea",18),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoArtista.descripcion,r)||(t.nuevoArtista.descripcion=r),r}),n.k0s(),n.j41(23,"input",19),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoArtista.urlSpotify,r)||(t.nuevoArtista.urlSpotify=r),r}),n.k0s(),n.j41(24,"div",20)(25,"input",21),n.bIt("change",function(r){return t.onArtistaImagenSeleccionada(r)}),n.k0s(),n.j41(26,"label",22),n.EFF(27," \u{1f4f7} Seleccionar imagen "),n.k0s()(),n.j41(28,"button",23),n.bIt("click",function(){return t.agregarArtista()}),n.j41(29,"span",24),n.EFF(30,"\u{1f3a4}"),n.k0s(),n.j41(31,"span",25),n.EFF(32,"Agregar Artista"),n.k0s()()()()()(),n.j41(33,"article",8)(34,"div",9),n.bIt("click",function(){return t.toggleSeccion("album")}),n.j41(35,"h2")(36,"span",10),n.EFF(37,"\u{1f4bf}"),n.k0s(),n.EFF(38," Gesti\xf3n de \xc1lbumes "),n.k0s(),n.j41(39,"span",11),c.qSk(),n.j41(40,"svg",12),n.nrm(41,"polyline",13),n.k0s()()(),c.joV(),n.j41(42,"div",14)(43,"div",15)(44,"h3"),n.EFF(45,"\u{1f3b5} Agregar Nuevo \xc1lbum"),n.k0s(),n.j41(46,"form",16)(47,"input",26),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoAlbum.titulo,r)||(t.nuevoAlbum.titulo=r),r}),n.k0s(),n.j41(48,"input",27),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoAlbum.fecha_lanzamiento,r)||(t.nuevoAlbum.fecha_lanzamiento=r),r}),n.k0s(),n.j41(49,"input",28),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoAlbum.urlSpotify,r)||(t.nuevoAlbum.urlSpotify=r),r}),n.k0s(),n.j41(50,"div",20)(51,"input",29),n.bIt("change",function(r){return t.onAlbumImagenSeleccionada(r)}),n.k0s(),n.j41(52,"label",30),n.EFF(53," \u{1f4f7} Seleccionar imagen "),n.k0s()(),n.j41(54,"div",31)(55,"h4"),n.EFF(56,"\u{1f50d} Buscar y Seleccionar Artistas"),n.k0s(),n.j41(57,"input",32),n.mxI("ngModelChange",function(r){return n.DH7(t.busquedaArtistaAlbum,r)||(t.busquedaArtistaAlbum=r),r}),n.bIt("ngModelChange",function(){return t.filtrarArtistasAlbum()}),n.k0s(),n.DNE(58,P,2,1,"div",33)(59,R,5,1,"div",34),n.k0s(),n.j41(60,"button",35),n.bIt("click",function(){return t.agregarAlbum()}),n.j41(61,"span",24),n.EFF(62,"\u{1f4bf}"),n.k0s(),n.j41(63,"span",25),n.EFF(64,"Agregar \xc1lbum"),n.k0s()()()(),n.DNE(65,Y,9,5,"div",36),n.k0s()(),n.j41(66,"article",8)(67,"div",9),n.bIt("click",function(){return t.toggleSeccion("cancion")}),n.j41(68,"h2")(69,"span",10),n.EFF(70,"\u{1f3b5}"),n.k0s(),n.EFF(71," Gesti\xf3n de Canciones "),n.k0s(),n.j41(72,"span",11),c.qSk(),n.j41(73,"svg",12),n.nrm(74,"polyline",13),n.k0s()()(),c.joV(),n.j41(75,"div",14)(76,"div",15)(77,"h3"),n.EFF(78,"\u{1f3bc} Agregar Nueva Canci\xf3n"),n.k0s(),n.j41(79,"form",16)(80,"input",37),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevaCancion.titulo,r)||(t.nuevaCancion.titulo=r),r}),n.k0s(),n.j41(81,"input",38),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevaCancion.urlSpotify,r)||(t.nuevaCancion.urlSpotify=r),r}),n.k0s(),n.j41(82,"input",39),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevaCancion.duracion,r)||(t.nuevaCancion.duracion=r),r}),n.k0s(),n.j41(83,"input",40),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevaCancion.ruta_audio,r)||(t.nuevaCancion.ruta_audio=r),r}),n.k0s(),n.j41(84,"div",31)(85,"h4"),n.EFF(86,"\u{1f4bf} Seleccionar \xc1lbum"),n.k0s(),n.j41(87,"input",41),n.mxI("ngModelChange",function(r){return n.DH7(t.busquedaAlbumCancion,r)||(t.busquedaAlbumCancion=r),r}),n.bIt("ngModelChange",function(){return t.filtrarAlbumes()}),n.k0s(),n.DNE(88,L,2,1,"div",42)(89,J,5,1,"div",43),n.k0s(),n.j41(90,"div",31)(91,"h4"),n.EFF(92,"\u{1f3a4} Seleccionar Artistas"),n.k0s(),n.j41(93,"input",44),n.mxI("ngModelChange",function(r){return n.DH7(t.busquedaArtistaCancion,r)||(t.busquedaArtistaCancion=r),r}),n.bIt("ngModelChange",function(){return t.filtrarArtistasCancion()}),n.k0s(),n.DNE(94,W,2,1,"div",33)(95,Z,5,1,"div",34),n.k0s(),n.j41(96,"button",35),n.bIt("click",function(){return t.agregarCancion()}),n.j41(97,"span",24),n.EFF(98,"\u{1f3b5}"),n.k0s(),n.j41(99,"span",25),n.EFF(100,"Agregar Canci\xf3n"),n.k0s()()()(),n.DNE(101,ln,10,4,"div",36),n.k0s()(),n.j41(102,"article",8)(103,"div",9),n.bIt("click",function(){return t.toggleSeccion("usuarios")}),n.j41(104,"h2")(105,"span",10),n.EFF(106,"\u{1f465}"),n.k0s(),n.EFF(107," Gesti\xf3n de Usuarios "),n.k0s(),n.j41(108,"span",11),c.qSk(),n.j41(109,"svg",12),n.nrm(110,"polyline",13),n.k0s()()(),c.joV(),n.j41(111,"div",14)(112,"div",15)(113,"h3"),n.EFF(114,"\u{1f4dd} Agregar Nuevo Usuario"),n.k0s(),n.j41(115,"form",16)(116,"input",45),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoUsuario.nombre,r)||(t.nuevoUsuario.nombre=r),r}),n.k0s(),n.j41(117,"input",46),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoUsuario.email,r)||(t.nuevoUsuario.email=r),r}),n.k0s(),n.j41(118,"input",47),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoUsuario.password,r)||(t.nuevoUsuario.password=r),r}),n.k0s(),n.j41(119,"select",48),n.mxI("ngModelChange",function(r){return n.DH7(t.nuevoUsuario.rol,r)||(t.nuevoUsuario.rol=r),r}),n.j41(120,"option",49),n.EFF(121,"\u{1f464} Cliente"),n.k0s(),n.j41(122,"option",50),n.EFF(123,"\u{1f451} Administrador"),n.k0s()(),n.j41(124,"button",23),n.bIt("click",function(){return t.agregarUsuario()}),n.j41(125,"span",24),n.EFF(126,"\u{1f464}"),n.k0s(),n.j41(127,"span",25),n.EFF(128,"Agregar Usuario"),n.k0s()()()(),n.j41(129,"div",51)(130,"h3"),n.EFF(131,"\u{1f50d} Buscar Usuarios"),n.k0s(),n.j41(132,"input",52),n.mxI("ngModelChange",function(r){return n.DH7(t.busquedaUsuarios,r)||(t.busquedaUsuarios=r),r}),n.bIt("ngModelChange",function(){return t.filtrarUsuarios()}),n.k0s(),n.DNE(133,dn,2,1,"div",53),n.k0s(),n.DNE(134,xn,13,4,"div",54),n.k0s()(),n.j41(135,"article",8)(136,"div",9),n.bIt("click",function(){return t.toggleSeccion("comentarios")}),n.j41(137,"h2")(138,"span",10),n.EFF(139,"\u{1f4ac}"),n.k0s(),n.EFF(140," Gesti\xf3n de Comentarios "),n.k0s(),n.j41(141,"span",11),c.qSk(),n.j41(142,"svg",12),n.nrm(143,"polyline",13),n.k0s()()(),c.joV(),n.j41(144,"div",14)(145,"div",51)(146,"h3"),n.EFF(147,"\u{1f50d} Buscar Comentarios"),n.k0s(),n.j41(148,"input",55),n.mxI("ngModelChange",function(r){return n.DH7(t.busquedaComentarios,r)||(t.busquedaComentarios=r),r}),n.bIt("ngModelChange",function(){return t.filtrarComentarios()}),n.k0s(),n.DNE(149,Fn,2,1,"div",53),n.k0s(),n.DNE(150,An,3,0,"div",56)(151,jn,2,1,"div",57)(152,yn,2,0,"div",53),n.k0s()()()()),2&i&&(n.R7$(2),n.Y8G("ngForOf",t.notificaciones),n.R7$(),n.Y8G("ngIf",t.modalConfirmacion.visible),n.R7$(10),n.AVh("rotated",t.seccionesAbiertas.artista),n.R7$(3),n.AVh("expanded",t.seccionesAbiertas.artista),n.R7$(5),n.R50("ngModel",t.nuevoArtista.nombre),n.R7$(),n.R50("ngModel",t.nuevoArtista.descripcion),n.R7$(),n.R50("ngModel",t.nuevoArtista.urlSpotify),n.R7$(16),n.AVh("rotated",t.seccionesAbiertas.album),n.R7$(3),n.AVh("expanded",t.seccionesAbiertas.album),n.R7$(5),n.R50("ngModel",t.nuevoAlbum.titulo),n.R7$(),n.R50("ngModel",t.nuevoAlbum.fecha_lanzamiento),n.R7$(),n.R50("ngModel",t.nuevoAlbum.urlSpotify),n.R7$(8),n.R50("ngModel",t.busquedaArtistaAlbum),n.R7$(),n.Y8G("ngIf",t.artistasFiltradosAlbum&&t.artistasFiltradosAlbum.length>0),n.R7$(),n.Y8G("ngIf",t.nuevoAlbum.artista_ids.length>0),n.R7$(6),n.Y8G("ngIf",t.seccionesAbiertas.album),n.R7$(7),n.AVh("rotated",t.seccionesAbiertas.cancion),n.R7$(3),n.AVh("expanded",t.seccionesAbiertas.cancion),n.R7$(5),n.R50("ngModel",t.nuevaCancion.titulo),n.R7$(),n.R50("ngModel",t.nuevaCancion.urlSpotify),n.R7$(),n.R50("ngModel",t.nuevaCancion.duracion),n.R7$(),n.R50("ngModel",t.nuevaCancion.ruta_audio),n.R7$(4),n.R50("ngModel",t.busquedaAlbumCancion),n.R7$(),n.Y8G("ngIf",t.albumesFiltrados&&t.albumesFiltrados.length>0),n.R7$(),n.Y8G("ngIf",t.nuevaCancion.album_id>0),n.R7$(4),n.R50("ngModel",t.busquedaArtistaCancion),n.R7$(),n.Y8G("ngIf",t.artistasFiltradosCancion&&t.artistasFiltradosCancion.length>0),n.R7$(),n.Y8G("ngIf",t.nuevaCancion.artista_ids.length>0),n.R7$(6),n.Y8G("ngIf",t.seccionesAbiertas.cancion),n.R7$(7),n.AVh("rotated",t.seccionesAbiertas.usuarios),n.R7$(3),n.AVh("expanded",t.seccionesAbiertas.usuarios),n.R7$(5),n.R50("ngModel",t.nuevoUsuario.nombre),n.R7$(),n.R50("ngModel",t.nuevoUsuario.email),n.R7$(),n.R50("ngModel",t.nuevoUsuario.password),n.R7$(),n.R50("ngModel",t.nuevoUsuario.rol),n.R7$(13),n.R50("ngModel",t.busquedaUsuarios),n.R7$(),n.Y8G("ngIf",t.busquedaUsuarios.trim()&&0===t.usuariosFiltrados.length),n.R7$(),n.Y8G("ngIf",t.seccionesAbiertas.usuarios),n.R7$(7),n.AVh("rotated",t.seccionesAbiertas.comentarios),n.R7$(3),n.AVh("expanded",t.seccionesAbiertas.comentarios),n.R7$(4),n.R50("ngModel",t.busquedaComentarios),n.R7$(),n.Y8G("ngIf",t.busquedaComentarios.trim()&&0===t.comentariosFiltrados.length),n.R7$(),n.Y8G("ngIf",t.cargandoComentarios),n.R7$(),n.Y8G("ngIf",!t.cargandoComentarios&&t.comentariosFiltrados.length>0),n.R7$(),n.Y8G("ngIf",!t.cargandoComentarios&&0===t.comentariosFiltrados.length&&!t.busquedaComentarios.trim()))},dependencies:[d.MD,d.YU,d.Sq,d.bT,d.ux,d.e1,d.fG,l.YN,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,d.vh],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background:#f8fafc!important;color:#1e293b!important;margin:0;padding:0}[_ngcontent-%COMP%]:root{--bg-primary: #f8fafc;--bg-secondary: #ffffff;--bg-card: #ffffff;--bg-hover: #f1f5f9;--purple-primary: #8b5cf6;--purple-secondary: #a855f7;--purple-dark: #6d28d9;--purple-light: #c084fc;--text-primary: #1e293b;--text-secondary: #64748b;--text-muted: #94a3b8;--accent-green: #10b981;--accent-red: #ef4444;--accent-orange: #f59e0b;--shadow-primary: 0 4px 20px rgba(139, 92, 246, .15);--shadow-hover: 0 8px 30px rgba(139, 92, 246, .25);--border-radius: 12px;--transition: all .4s cubic-bezier(.25, .46, .45, .94);--transition-fast: all .2s cubic-bezier(.25, .46, .45, .94)}.notificaciones-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:12px;max-width:400px}.notificacion[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid rgba(139,92,246,.2);border-radius:12px;padding:16px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInRight .3s ease-out;min-width:320px}.notificacion-success[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,rgba(16,185,129,.1),var(--bg-secondary))}.notificacion-error[_ngcontent-%COMP%]{border-color:#ef4444;background:linear-gradient(135deg,rgba(239,68,68,.1),var(--bg-secondary))}.notificacion-warning[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,rgba(245,158,11,.1),var(--bg-secondary))}.notificacion-info[_ngcontent-%COMP%]{border-color:var(--purple-primary);background:linear-gradient(135deg,rgba(139,92,246,.1),var(--bg-secondary))}.notificacion-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.notificacion-icono[_ngcontent-%COMP%]{font-size:1.2rem;flex-shrink:0}.notificacion-mensaje[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:500;flex:1}.notificacion-cerrar[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;padding:4px;border-radius:4px;transition:var(--transition);flex-shrink:0}.notificacion-cerrar[_ngcontent-%COMP%]:hover{background:#8b5cf61a;color:var(--text-primary)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-confirmacion[_ngcontent-%COMP%]{background:#fff;border:4px solid var(--purple-primary);border-radius:20px;padding:0;max-width:520px;width:95%;box-shadow:0 30px 100px #00000080,0 0 0 1px #ffffff1a;animation:_ngcontent-%COMP%_slideInUp .3s ease-out;overflow:hidden;transform:scale(1)}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));padding:28px 32px;display:flex;align-items:center;justify-content:space-between;position:relative}.modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);pointer-events:none}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1e293b!important;font-size:1.4rem;font-weight:800;text-shadow:0 1px 2px rgba(255,255,255,.8);position:relative;z-index:1}.modal-icono[_ngcontent-%COMP%]{font-size:1.8rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);position:relative;z-index:1}.modal-body[_ngcontent-%COMP%]{padding:32px;background:#fff}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1e293b!important;font-size:1.2rem;line-height:1.7;font-weight:500;text-align:center;white-space:pre-line}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--purple-primary);font-weight:700}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#dc2626;font-style:normal;font-weight:600}.modal-footer[_ngcontent-%COMP%]{padding:24px 32px;display:flex;gap:16px;justify-content:flex-end;background:#f8fafc;border-top:2px solid rgba(139,92,246,.2)}.btn-cancelar[_ngcontent-%COMP%], .btn-confirmar[_ngcontent-%COMP%]{padding:16px 32px;border-radius:12px;font-weight:800;cursor:pointer;transition:var(--transition);border:none;font-size:1.1rem;text-transform:uppercase;letter-spacing:.8px;min-width:120px;box-shadow:0 4px 15px #0000001a}.btn-cancelar[_ngcontent-%COMP%]{background:#fff;color:#64748b!important;border:3px solid #e2e8f0}.btn-cancelar[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;color:#475569!important;transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.btn-confirmar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;border:3px solid transparent;box-shadow:0 4px 15px #ef444466}.btn-confirmar[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c)!important;transform:translateY(-2px);box-shadow:0 8px 30px #ef444499}.btn-confirmar[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 15px #ef444466}.home-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-primary);color:var(--text-primary);padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.admin-panel[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px 0}.title[_ngcontent-%COMP%]{text-align:center;font-size:3.5rem;font-weight:900;color:var(--text-primary)!important;margin-bottom:3rem;position:relative;text-shadow:2px 2px 4px rgba(139,92,246,.3);filter:drop-shadow(0 2px 8px rgba(139,92,246,.2));opacity:1!important;background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:var(--text-primary)}.title[_ngcontent-%COMP%]:before{content:"\\1f3b5";position:absolute;left:50%;top:-15px;transform:translate(-50%);font-size:2rem;filter:drop-shadow(0 2px 8px rgba(139,92,246,.3))}.management-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid rgba(139,92,246,.2);border-radius:var(--border-radius);margin-bottom:2rem;box-shadow:var(--shadow-primary);transition:var(--transition);overflow:hidden}.management-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-hover);border-color:#8b5cf666}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bg-secondary),var(--bg-hover));padding:1.5rem 2rem;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:var(--transition);border-bottom:1px solid rgba(139,92,246,.1)}.card-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--bg-hover),rgba(139,92,246,.1))}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:12px}.card-icon[_ngcontent-%COMP%]{font-size:1.6rem;filter:drop-shadow(0 0 10px rgba(139,92,246,.5))}.toggle-icon[_ngcontent-%COMP%]{transition:var(--transition);color:var(--purple-primary)}.toggle-icon.rotated[_ngcontent-%COMP%]{transform:rotate(90deg)}.card-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:var(--transition);background:var(--bg-card)}.card-content.expanded[_ngcontent-%COMP%]{max-height:2000px;padding:2rem}.form-container[_ngcontent-%COMP%]{background:#8b5cf60d;border:1px solid rgba(139,92,246,.2);border-radius:var(--border-radius);padding:2rem;margin-bottom:2rem}.form-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--purple-light);font-size:1.3rem;font-weight:700;display:flex;align-items:center;gap:8px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;align-items:start}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid rgba(139,92,246,.3);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:var(--transition)}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--purple-primary);box-shadow:0 0 0 3px #8b5cf633;background:var(--bg-hover)}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.file-input-container[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.file-label[_ngcontent-%COMP%]{display:block;padding:12px 16px;border:2px dashed rgba(139,92,246,.5);border-radius:8px;background:#8b5cf61a;color:var(--purple-light);text-align:center;cursor:pointer;transition:var(--transition);font-weight:500}.file-label[_ngcontent-%COMP%]:hover{border-color:var(--purple-primary);background:#8b5cf633}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));color:var(--text-primary);border:none;padding:14px 28px;border-radius:8px;font-weight:700;font-size:1rem;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:8px;min-height:50px}.submit-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--purple-secondary),var(--purple-light));transform:translateY(-2px);box-shadow:var(--shadow-hover)}.submit-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.search-container[_ngcontent-%COMP%]{margin-bottom:2rem}.search-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--purple-light);font-weight:600;display:flex;align-items:center;gap:8px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px 12px 40px;border:1px solid rgba(139,92,246,.3);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:var(--transition)}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--purple-primary);box-shadow:0 0 0 3px #8b5cf633}.artists-selection[_ngcontent-%COMP%], .albums-selection[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid rgba(139,92,246,.2);border-radius:8px;background:var(--bg-secondary);margin-top:1rem}.artist-option[_ngcontent-%COMP%], .album-option[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(139,92,246,.1);cursor:pointer;transition:var(--transition)}.artist-option[_ngcontent-%COMP%]:hover, .album-option[_ngcontent-%COMP%]:hover{background:#8b5cf61a}.artist-option[_ngcontent-%COMP%]:last-child, .album-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.album-option.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf633,#a855f71a);border-left:4px solid var(--purple-primary)}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;color:var(--text-primary);font-weight:500}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin:0}.selected-artists[_ngcontent-%COMP%], .selected-album[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#8b5cf61a;border-radius:8px;border:1px solid rgba(139,92,246,.2)}.selected-artists[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--purple-light);font-weight:600}.selected-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.selected-tag[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));color:var(--text-primary);padding:6px 12px;border-radius:16px;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:6px}.remove-tag[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-primary);cursor:pointer;font-size:1.1rem;padding:0;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:var(--transition)}.remove-tag[_ngcontent-%COMP%]:hover{background:#fff3}.usuarios-vertical[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-top:2rem}.usuarios-section[_ngcontent-%COMP%]{background:#8b5cf60d;border:1px solid rgba(139,92,246,.2);border-radius:var(--border-radius);padding:1.5rem}.table-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.2rem;font-weight:700;display:flex;align-items:center;gap:8px;padding-bottom:.5rem;border-bottom:2px solid}.admin-title[_ngcontent-%COMP%]{color:var(--purple-light);border-bottom-color:var(--purple-primary)}.cliente-title[_ngcontent-%COMP%]{color:var(--accent-green);border-bottom-color:var(--accent-green)}.usuarios-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.usuario-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid rgba(139,92,246,.2);border-radius:8px;padding:1rem;transition:var(--transition)}.usuario-card[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:#8b5cf666;transform:translateY(-2px)}.admin-user[_ngcontent-%COMP%]{border-left:4px solid var(--purple-primary)}.client-user[_ngcontent-%COMP%]{border-left:4px solid var(--accent-green)}.usuario-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.usuario-header-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.usuario-perfil-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid rgba(139,92,246,.3)}.usuario-tipo-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.tipo-admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));color:var(--text-primary)}.tipo-cliente[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-green),#22c55e);color:var(--text-primary)}.usuario-datos-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1rem;font-weight:600}.usuario-datos-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.9rem}.usuario-acciones-horizontal[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.btn-horizontal[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;font-size:.8rem;font-weight:600;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:4px}.edit-btn[_ngcontent-%COMP%]{background:#8b5cf633;color:var(--purple-light);border:1px solid rgba(139,92,246,.3)}.edit-btn[_ngcontent-%COMP%]:hover{background:#8b5cf64d;color:var(--text-primary)}.promote-btn[_ngcontent-%COMP%], .demote-btn[_ngcontent-%COMP%]{background:#f59e0b33;color:#fbbf24;border:1px solid rgba(245,158,11,.3)}.promote-btn[_ngcontent-%COMP%]:hover, .demote-btn[_ngcontent-%COMP%]:hover{background:#f59e0b4d;color:var(--text-primary)}.delete-btn[_ngcontent-%COMP%]{background:#ef444433;color:#f87171;border:1px solid rgba(239,68,68,.3)}.delete-btn[_ngcontent-%COMP%]:hover{background:#ef44444d;color:var(--text-primary)}.usuario-edit[_ngcontent-%COMP%]{background:var(--bg-hover);border:1px solid rgba(139,92,246,.3);border-radius:8px;padding:1rem}.edit-form-grid[_ngcontent-%COMP%]{display:grid;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--purple-light);font-weight:600;font-size:.9rem}.edit-input[_ngcontent-%COMP%], .edit-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid rgba(139,92,246,.3);border-radius:6px;background:var(--bg-secondary);color:var(--text-primary);font-size:.9rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:var(--transition);font-size:.9rem}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-green),#22c55e);color:var(--text-primary)}.btn-cancel[_ngcontent-%COMP%]{background:#ef444433;color:#f87171;border:1px solid rgba(239,68,68,.3)}.no-users-message[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{text-align:center;color:var(--text-muted);font-style:italic;padding:2rem}.info-message[_ngcontent-%COMP%]{background:#8b5cf61a;color:var(--purple-primary);padding:.75rem 1rem;border-radius:8px;border-left:4px solid var(--purple-primary);margin-bottom:1rem;font-size:.9rem;font-weight:500}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(50px) scale(.9);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}to{opacity:1;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}}@keyframes _ngcontent-%COMP%_buttonPulse{0%{box-shadow:0 4px 15px #ef444466}50%{box-shadow:0 6px 20px #ef444499}to{box-shadow:0 4px 15px #ef444466}}.btn-confirmar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_buttonPulse 2s infinite}@media (max-width: 1200px){.usuarios-vertical[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:10px}.title[_ngcontent-%COMP%]{font-size:2rem}.title[_ngcontent-%COMP%]:before{left:-40px;font-size:1.8rem}.card-content.expanded[_ngcontent-%COMP%]{padding:1rem}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.usuario-acciones-horizontal[_ngcontent-%COMP%]{flex-direction:column}.btn-horizontal[_ngcontent-%COMP%]{justify-content:center}}.existing-items-container[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px solid rgba(139,92,246,.2)}.existing-items-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--purple-primary);font-size:1.3rem;font-weight:700;margin-bottom:1.5rem;display:flex;align-items:center;gap:8px}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;margin-bottom:1rem}.item-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid rgba(139,92,246,.2);border-radius:12px;padding:1rem;transition:var(--transition);display:flex;flex-direction:column;gap:1rem}.item-card[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:#8b5cf666;transform:translateY(-2px);box-shadow:0 4px 15px #8b5cf633}.item-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.item-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;object-fit:cover;border:2px solid rgba(139,92,246,.2)}.item-placeholder[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,var(--purple-primary),var(--purple-secondary));border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff}.item-details[_ngcontent-%COMP%]{flex:1}.item-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text-primary);font-size:1.1rem;font-weight:600}.item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .25rem;color:var(--text-secondary);font-size:.9rem}.item-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:var(--text-muted);font-size:.8rem;margin-top:.25rem}.item-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--purple-primary);text-decoration:none;font-weight:600}.item-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--purple-secondary)}.item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.no-items[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-muted);font-style:italic}.no-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.comentarios-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.comentario-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid rgba(139,92,246,.2);border-radius:12px;padding:1.5rem;transition:var(--transition)}.comentario-card[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:#8b5cf666;transform:translateY(-1px);box-shadow:0 4px 15px #8b5cf61a}.comentario-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid rgba(139,92,246,.1)}.comentario-usuario[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.comentario-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid rgba(139,92,246,.3)}.comentario-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1rem;font-weight:600}.comentario-email[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.85rem}.comentario-fecha[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem;font-style:italic}.comentario-contenido[_ngcontent-%COMP%]{margin-bottom:1rem}.comentario-cancion[_ngcontent-%COMP%]{margin-bottom:.75rem;padding:.75rem;background:#8b5cf60d;border-radius:8px;border-left:4px solid var(--purple-primary)}.comentario-cancion[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);display:block;margin-bottom:.25rem}.album-info[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;font-style:italic}.comentario-calificacion[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.estrella[_ngcontent-%COMP%]{font-size:1.2rem}.valor-numerico[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600;font-size:.9rem}.comentario-texto[_ngcontent-%COMP%]{background:var(--bg-primary);padding:1rem;border-radius:8px;border-left:3px solid var(--accent-green);font-style:italic;color:var(--text-primary);line-height:1.5}.comentario-acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary)}.loading-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.comentario-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.items-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.item-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.item-actions[_ngcontent-%COMP%]{justify-content:center}}.search-container[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:#8b5cf60d;border-radius:12px;border:1px solid rgba(139,92,246,.1)}.search-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;color:var(--purple-primary);font-size:1.1rem;font-weight:600}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid rgba(139,92,246,.2);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:var(--transition);outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--purple-primary);box-shadow:0 0 0 3px #8b5cf61a;background:var(--bg-primary)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);font-style:italic}.no-results[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:var(--text-muted);font-style:italic;background:#8b5cf60d;border-radius:8px;margin-top:.5rem;border:1px dashed rgba(139,92,246,.2)}.search-highlight[_ngcontent-%COMP%]{background:linear-gradient(120deg,#8b5cf64d,#8b5cf61a);font-weight:600;border-radius:3px;padding:1px 3px}']})}return o})()}}]);